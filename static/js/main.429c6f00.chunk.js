(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{240:function(e,t,a){e.exports=a(442)},241:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);a(241);var n=a(1),r=a.n(n),c=a(17),i=a(24),o=a.n(i),l=a(37),u=a(474),s={DATA:"DATA",GET_DATA:"GET_DATA",SHOW_ERROR:"SHOW_ERROR",GET_DATA_CITY:"GET_DATA_CITY"},m=a(19),d=a(34),p={data:null,loading:!1},f=function(e){return e.home},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=Object(d.a)(t,["type"]);switch(a){case s.DATA:case s.CLEAR:return Object(m.a)(Object(m.a)({},e),n);default:return e}},h=a(473),y=a(47),E=a(478),g=a(472),O=a(470),j=a(482),v=a(194),x=a.n(v),w="/home",S="/search",C=Object(O.a)((function(e){return Object(j.a)({header:{display:"flex",alignItems:"center",height:"10vh",marginBottom:30,backgroundColor:"black",padding:20},title:{color:"#fff",fontSize:"3rem"},button:{color:"#fff",marginRight:"5%"}})})),D=Object(n.memo)((function(){var e=C(),t=Object(c.g)();return r.a.createElement("header",{className:e.header},!t.location.pathname.includes("home")&&r.a.createElement(E.a,{"aria-label":"go back",className:e.button,onClick:function(){return t.goBack()}},r.a.createElement(x.a,{fontSize:"large"})),r.a.createElement(y.b,{style:{textDecoration:"none"},to:w},r.a.createElement(g.a,{className:e.title,component:"h1"}," Weather")))})),A=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(h.a,null,t))},T=a(40),k=a(195),N=a.n(k),R=a(481),_=a(484),B=a(479),W=Object(O.a)((function(e){return Object(j.a)({root:{display:"flex",flexWrap:"wrap",marginBottom:30},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},iconButton:{padding:10}})})),z=Object(n.memo)((function(e){var t=e.location,a=e.history,c=e.searchCity,i=e.inputData,o=W(),l=Object(n.useState)(""),u=Object(T.a)(l,2),s=u[0],m=u[1],d=Object(n.useCallback)((function(e){return function(e){m(e.target.value)}}),[]);Object(n.useEffect)((function(){!s&&m(i)}),[i,s]);var p=Object(n.useCallback)((function(){return function(e){s&&(c(s),t.pathname!==S&&a.push(S))}}),[s,c,t.pathname,a]);return r.a.createElement("div",{className:o.root},r.a.createElement(_.a,{fullWidth:!0,className:o.margin,variant:"outlined"},r.a.createElement(R.a,{htmlFor:"search-city"},"Search "),r.a.createElement(B.a,{labelWidth:60,id:"search-city",onChange:d("search"),endAdornment:r.a.createElement(E.a,{type:"button","aria-label":"search",onClick:p(),className:o.iconButton},r.a.createElement(N.a,null))})))}));z.defaultProps={inputData:""};var I=z,M="DATA",L="SHOW_ERROR",H="SEARCH_CITY",G=a(483),U=a(480),P=a(196),V=a.n(P),F=a(475),Y=a(98),J=a.n(Y),q=Object(O.a)((function(e){return Object(j.a)({root:{position:"relative"},cardContainer:{position:"relative"},btn:{position:"absolute",top:15,right:12,display:"block",zIndex:2},topCard:{display:"flex",flexDirection:"column"},title:{padding:0,display:"flex",fontSize:"1.8rem",flexDirection:"row"},bottomCard:{display:"flex",justifyContent:"space-between"},gridList:{width:"100%",height:"100%",justifyContent:"center"},footerBtn:{marginTop:20,borderRadius:0,padding:"20px 0"},temperature:{fontSize:"4rem"},temperatureSymbol:{fontSize:"1.7rem"}})})),K=Object(n.memo)((function(e){var t=q(),a=e.isListener,c=e.id,i=e.name,o=e.country,l=e.windSpeed,s=e.humidity,m=e.pressure,d=e.temp,p=e.description,f=e.searchCity,b=Object(n.useState)({isVisible:!1,id:null}),h=Object(T.a)(b,2),O=h[0],j=h[1],v=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||!O.isVisible?j({isVisible:!0,id:e}):O.isVisible&&j({isVisible:!1,id:null})}),[O]);return r.a.createElement(u.a,{item:!0,xs:6,className:t.root,onMouseLeave:function(){return v()},onMouseEnter:function(){return v(c)}},r.a.createElement(U.a,{direction:"down",in:O.id===c},r.a.createElement("div",{className:t.btn},r.a.createElement(E.a,{color:"inherit","aria-label":"refresh {name} card",onClick:function(){return a("refresh",c)}},r.a.createElement(V.a,{fontSize:"large"})),r.a.createElement(E.a,{color:"inherit","aria-label":"delete {name} card",onClick:function(){return a("delete",c)}},r.a.createElement(J.a,{fontSize:"large"})))),r.a.createElement(y.b,{style:{textDecoration:"none"},onClick:function(){return f(i)},to:"".concat(S,"/").concat(i)},r.a.createElement(G.a,{className:t.cardContainer,variant:"outlined"},r.a.createElement(F.a,{className:t.topCard},r.a.createElement(F.a,{className:t.title},r.a.createElement(g.a,{className:t.title,component:"h2",color:"textSecondary"},i),r.a.createElement(g.a,{className:t.title,component:"h2",color:"textSecondary"},", ",o)),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},p)),r.a.createElement(F.a,{className:t.bottomCard},r.a.createElement(F.a,{className:t.title},r.a.createElement(g.a,{className:t.temperature},d),r.a.createElement("sup",{className:t.temperatureSymbol},"\xb0C")),r.a.createElement(F.a,{className:t.topCard},r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Wind: ",l," m/s"),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Humidity: ",s," %"),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Pressure: ",m," hpa"))))))}));function X(e){localStorage.removeItem("dataWeather"),localStorage.setItem("dataWeather",JSON.stringify([e]))}var $=Object(n.memo)((function(e){var t=Object(l.c)(f).data,a=Object(l.b)(),c=Object(n.useCallback)((function(){return a({type:s.GET_DATA})}),[a]),i=Object(n.useCallback)((function(e){return a({type:s.DATA,data:e})}),[a]),m=Object(n.useCallback)((function(e){return a({type:s.GET_DATA_CITY,id:e})}),[a]),d=Object(n.useCallback)((function(e){return a({type:H,str:e})}),[a]);Object(n.useEffect)((function(){var e=function(){var e=localStorage.getItem("dataWeather");if(e)return JSON.parse(e)[0]}();t||(e?i(e):c())}),[t,c,i]);var p=Object(n.useCallback)((function(e,a){if("delete"===e){var n=t;X(n=o.a.filter(n,(function(e){return a!==e.id}))),i(n)}else"refresh"===e&&m(a)}),[t,i,m]),b=Object(n.useMemo)((function(){return t&&o.a.map(t,(function(e){return{id:e.id,name:e.name,country:e.sys.country,windSpeed:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure,temp:Math.round(e.main.temp),description:e.weather[0].description}}))}),[t]);return r.a.createElement(A,null,r.a.createElement(I,Object.assign({},e,{searchCity:d})),r.a.createElement(u.a,{container:!0,spacing:3},o.a.map(b,(function(e){return r.a.createElement(K,Object.assign({searchCity:d,isListener:p,key:e.id},e))}))))})),Q=a(101),Z=a(477),ee=a(205),te=a.n(ee),ae=Object(O.a)((function(e){return Object(j.a)({btn:{position:"fixed",bottom:15,right:12,display:"block",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.8)"},vertical:{display:"flex",flexDirection:"column"},infoWeather:{fontSize:"1.2rem",display:"flex",flexDirection:"column",alignSelf:"flex-end"},padding0:{padding:0},title:{padding:0,display:"flex",fontSize:"1.8rem",flexDirection:"row"},topCard:{padding:0,display:"flex",flexDirection:"row",justifyContent:"space-between"},bottomCard:{display:"flex",justifyContent:"space-between"},gridList:{width:"100%",height:"100%",justifyContent:"center"},footerBtn:{marginTop:20,borderRadius:0,padding:"20px 0"},temperature:{fontSize:"6rem",padding:"0 10%"},temperatureSymbol:{fontSize:"1.7rem"}})})),ne=Object(n.memo)((function(e){var t=e.data,a=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:a.topCard},r.a.createElement(F.a,{className:a.vertical},r.a.createElement(F.a,{className:a.title},r.a.createElement(g.a,{className:a.title,component:"h2"},t.name,", ",t.country)),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},t.timeWeatherReport),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},t.description)),r.a.createElement(F.a,{className:a.vertical},r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"time sunrise: ",t.timeSunrise),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"time sunset: ",t.timeSunset))),r.a.createElement(F.a,{className:a.bottomCard},r.a.createElement(F.a,{className:a.vertical+a.padding0},r.a.createElement(F.a,{className:a.title},r.a.createElement(g.a,{className:a.temperature},t.temp),r.a.createElement("sup",{className:a.temperatureSymbol},"\xb0C")),r.a.createElement("br",null),r.a.createElement(F.a,{style:{padding:0},className:a.vertical},r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"min. temperature: ",t.tempMin,r.a.createElement("sup",null,"\xb0C")),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"min. temperature: ",t.tempMax,r.a.createElement("sup",null,"\xb0C")))),r.a.createElement(F.a,{className:a.infoWeather},r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Wind: ",t.windSpeed," m/s"),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Humidity: ",t.humidity," %"),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Pressure: ",t.pressure," hpa"))))})),re=a(0),ce=a.n(re),ie=a(43),oe=Object(O.a)((function(e){return Object(j.a)({title:{margin:0,padding:0,fontSize:"1.5rem"}})})),le=function(e){var t=e.active,a=e.payload,n=oe();return t?r.a.createElement(G.a,{variant:"outlined"},r.a.createElement(F.a,null,r.a.createElement(g.a,{className:n.title,component:"h3"},a[0].payload.weather),r.a.createElement(g.a,null,a[0].payload.fullTime),r.a.createElement(g.a,null,a[0].payload.time),r.a.createElement(g.a,null,"Temperature: ",a[0].payload.temperature,"\xb0C"),r.a.createElement(g.a,null,"Wind: ",a[0].payload.windSpeed," m/s"),r.a.createElement(g.a,null,"Humidity: ",a[0].payload.humidity," %"),r.a.createElement(g.a,null,"Pressure: ",a[0].payload.pressure," hpa"))):null};le.defaultProps={payload:[],active:!1};var ue=Object(n.memo)((function(e){var t=e.matches,a=e.data;return r.a.createElement(ie.b,{width:t?500:600,data:a,height:300,margin:{top:10,bottom:10}},r.a.createElement(ie.c,{strokeDasharray:"3 3"}),r.a.createElement(ie.f,{dataKey:"time"}),r.a.createElement(ie.g,null),r.a.createElement(ie.e,{content:r.a.createElement(le,null)}),r.a.createElement(ie.d,null),r.a.createElement(ie.a,{dataKey:"temperature",barSize:20,fill:"#1c42b5"}))}));ue.propTypes={data:ce.a.array.isRequired,matches:ce.a.bool.isRequired};var se=ue,me=a(476),de=Object(O.a)((function(e){return Object(j.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"}})}));function pe(){var e=de(),t=Object(n.useState)(0),a=Object(T.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(me.a,{size:"20vw",variant:"determinate",value:c,color:"secondary"}))}var fe={currentCity:null,inputData:"",loading:!1},be=function(e){return e.search},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=Object(d.a)(t,["type"]);switch(a){case s.DATA:case s.CLEAR:return Object(m.a)(Object(m.a)({},e),n);default:return e}};function ye(e){return~~(+e/1e3)}function Ee(e){return new Date(1e3*e)}var ge=Object(O.a)((function(e){return Object(j.a)({root:{position:"relative"},card:{width:"100%",margin:5},cardCharts:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",margin:5},cardContainerColumn:{display:"flex",flexDirection:"column",justifyContent:"space-between"},cardContainerRow:{display:"flex",flexDirection:"row",justifyContent:"space-between"},btn:{position:"fixed",bottom:15,right:12,display:"block",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.8)"}})})),Oe=Object(n.memo)((function(e){var t=ge(),a=Object(Z.a)("(min-width:980px)"),c=e.match,i=Object(l.c)(f).data,u=Object(l.c)(be),d=u.currentCity,p=u.inputData,b=Object(n.useState)(!1),h=Object(T.a)(b,2),y=h[0],g=h[1],O=Object(l.b)(),j=Object(n.useCallback)((function(){return O({type:s.GET_DATA})}),[O]),v=Object(n.useCallback)((function(e){return O({type:s.DATA,data:e})}),[O]),x=Object(n.useCallback)((function(e){return O({type:H,str:e})}),[O]);Object(n.useEffect)((function(){d&&g(o.a.some(i,(function(e){return d.city.id===e.id}))),p||x(c.params.city)}),[d,i,j,p,c.params.city,x,v]);var w=Object(n.useCallback)((function(e,t){var a;if("delete"===e&&(a=o.a.filter(i,(function(e){return t!==e.id}))),"add"===e){var n={id:d.city.id,name:d.city.name,sys:{country:d.city.country},wind:{speed:d.list[0].wind.speed},weather:[{description:d.list[0].weather[0].description}],main:{humidity:d.list[0].main.humidity,pressure:d.list[0].main.pressure,temp:d.list[0].main.temp}};a=[Object(m.a)({},n)].concat(Object(Q.a)(i))}v(a),X(a)}),[i,v,d]),S={hour:"2-digit",minute:"2-digit"},C={weekday:"long",hour:"2-digit",minute:"2-digit"},D={weekday:"long",year:"numeric",month:"long",day:"numeric"},k=Object(n.useMemo)((function(){return d&&{id:d.city.id,name:d.city.name,country:d.city.country,windSpeed:d.list[0].wind.speed,humidity:d.list[0].main.humidity,pressure:d.list[0].main.pressure,weather:d.list[0].weather[0].main,temp:Math.round(d.list[0].main.temp),tempMax:Math.round(d.list[0].main.temp_max),tempMin:Math.round(d.list[0].main.temp_min),description:d.list[0].weather[0].description,timeSunset:Ee(d.city.sunset).toLocaleDateString("en-US",S),timeSunrise:Ee(d.city.sunrise).toLocaleDateString("en-US",S),timeWeatherReport:Ee(d.list[0].dt).toLocaleDateString("en-US",C),weatherMap:o.a.map(d.list,(function(e){return{id:e.dt,windSpeed:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure,weather:e.weather[0].main,temperature:Math.round(e.main.temp),time:Ee(e.dt).toLocaleTimeString("en-US",S),fullTime:Ee(e.dt).toLocaleDateString("en-US",D)}}))}}),[d,C,S,D]);return k?r.a.createElement(A,null,r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.btn},y?r.a.createElement(E.a,{color:"inherit","aria-label":"delete {name} card",onClick:function(){return w("delete",k.id)}},r.a.createElement(J.a,{style:{color:"#fff"},fontSize:"large"})):r.a.createElement(E.a,{color:"inherit","aria-label":"add {name} card",onClick:function(){return w("add",k.id)}},r.a.createElement(te.a,{style:{color:"#fff"},fontSize:"large"}))),r.a.createElement(I,Object.assign({},e,{inputData:p,searchCity:x})),r.a.createElement("div",{className:a?t.cardContainerRow:t.cardContainerColumn},r.a.createElement(G.a,{variant:"outlined",className:t.card},r.a.createElement(ne,{data:k})),r.a.createElement(G.a,{variant:"outlined",className:t.cardCharts},r.a.createElement(se,{matches:a,data:k.weatherMap}))))):r.a.createElement(pe,null)}));function je(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:w,component:$}),r.a.createElement(c.b,{path:"".concat(S,"/:city?"),component:Oe}),r.a.createElement(c.a,{exact:!0,from:"/",to:w})))}var ve=a(21),xe=a.n(ve),we=a(207),Se=a(35),Ce=a(22),De=a.n(Ce),Ae=a(14),Te=a(206),ke="&appid=36c1f43a7b5290d7522108114bec530d",Ne=a.n(Te).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),Re=function(){return Ne({method:"get",url:"/find?lat=50&lon=36&cnt=30".concat(ke,"&units=metric")}).then((function(e){return e.data.list}))},_e=function(e){return Ne({method:"get",url:"/weather?id=".concat(e).concat(ke,"&units=metric")}).then((function(e){return e.data}))},Be=function(e){return Ne({method:"get",url:"forecast?q=".concat(e).concat(ke,"&units=metric")}).then((function(e){return e.data}))},We=De.a.mark(Me),ze=De.a.mark(Le),Ie=De.a.mark(He);function Me(e){var t;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.type,Object(d.a)(e,["type"]),a.next=3,Object(Ae.d)({type:s.DATA,loading:!0});case 3:return a.prev=3,a.next=6,Object(Ae.b)(Re);case 6:return X(t=a.sent),a.next=10,Object(Ae.d)({type:s.DATA,data:t});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(3),a.next=16,Object(Ae.d)({type:s.SHOW_ERROR});case 16:return a.next=18,Object(Ae.d)({type:s.DATA,loading:!1});case 18:case"end":return a.stop()}}),We,null,[[3,12]])}function Le(e){var t,a,n,r;return De.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.type,t=Object(d.a)(e,["type"]),a=t.id,c.next=4,Object(Ae.d)({type:s.DATA,loading:!0});case 4:return c.next=6,Object(Ae.e)((function(e){return e.home.data}));case 6:return n=c.sent,c.prev=7,c.next=10,Object(Ae.b)(_e,a);case 10:return r=c.sent,X(n=o.a.map(n,(function(e){return a===e.id?Object(m.a)({},r):Object(m.a)({},e)}))),c.next=15,Object(Ae.d)({type:s.DATA,data:n});case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(7),c.next=21,Object(Ae.d)({type:s.SHOW_ERROR});case 21:return c.next=23,Object(Ae.d)({type:s.DATA,loading:!1});case 23:case"end":return c.stop()}}),ze,null,[[7,17]])}function He(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.f)(s.GET_DATA,Me);case 2:return e.next=4,Object(Ae.f)(s.GET_DATA_CITY,Le);case 4:case"end":return e.stop()}}),Ie)}var Ge=De.a.mark(Pe),Ue=De.a.mark(Ve);function Pe(e){var t,a,n,r,c,i,l,u,s,p;return De.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return e.type,t=Object(d.a)(e,["type"]),a=t.str,n=(new Date).setHours(0,20,0,0),n=new Date(n),r=n.setDate(n.getDate()+1),c=n.setDate(n.getDate()+2),i=ye(new Date(r)),l=ye(new Date(c)),f.next=10,Object(Ae.d)({type:M,loading:!0,inputData:a});case 10:return f.prev=10,f.next=13,Object(Ae.b)(Be,a);case 13:return u=f.sent,s=u.list,(p=o.a.filter(s,(function(e){return i+1e4>=e.dt}))).length<=2&&o.a.filter(s,(function(e){return l>=e.dt})),p=o.a.map(p,(function(e){for(var t in e)if("dt"===t)return Object(m.a)(Object(m.a)({},e),{},{dt:e[t]-10800})})),f.next=20,Object(Ae.d)({type:M,currentCity:Object(m.a)(Object(m.a)({},u),{},{list:Object(Q.a)(p)})});case 20:f.next=26;break;case 22:return f.prev=22,f.t0=f.catch(10),f.next=26,Object(Ae.d)({type:L});case 26:return f.next=28,Object(Ae.d)({type:M,loading:!1});case 28:case"end":return f.stop()}}),Ge,null,[[10,22]])}function Ve(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.g)(H,Pe);case 2:case"end":return e.stop()}}),Ue)}var Fe=De.a.mark(Ye);function Ye(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)([Object(Ae.c)(He),Object(Ae.c)(Ve)]);case 2:case"end":return e.stop()}}),Fe)}var Je=Ye,qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.d,Ke=Object(Se.c)({home:b,search:he}),Xe=Object(we.a)(),$e=Object(Se.e)(Ke,qe(Object(Se.a)(Xe)));window.store=$e,Xe.run(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));xe.a.render(r.a.createElement(y.a,{basename:"/weather"},r.a.createElement(l.a,{store:$e},r.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[240,1,2]]]);
//# sourceMappingURL=main.429c6f00.chunk.js.map