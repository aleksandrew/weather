(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);a(81);var n=a(0),r=a.n(n),c=a(12),i=a(142),o=a(19),l=a.n(o),s=a(27),u=a(138),m={DATA:"DATA",GET_DATA:"GET_DATA",SHOW_ERROR:"SHOW_ERROR",GET_DATA_CITY:"GET_DATA_CITY"},d=a(28),p=a(25);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={data:null,loading:!1},y=function(e){return e.home},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=Object(p.a)(t,["type"]);switch(a){case m.DATA:case m.CLEAR:return b({},e,{},n);default:return e}},E={DATA:"DATA",GET_DATA:"GET_DATA",SHOW_ERROR:"SHOW_ERROR",SEARCH_CITY:"SEARCH_CITY"},j=a(24),g=a(68),v=a.n(g),w=a(146),S=a(143),x=a(149),C=a(145),D=a(136),A=a(147),T={HOME:"/home",SEARCH:"/search"},k=Object(D.a)((function(e){return Object(A.a)({root:{display:"flex",flexWrap:"wrap",marginBottom:30},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},iconButton:{padding:10}})})),R=Object(n.memo)((function(e){var t=e.location,a=e.history,c=e.searchCity,i=e.inputData,o=k(),l=Object(n.useState)(""),s=Object(j.a)(l,2),u=s[0],m=s[1],d=Object(n.useCallback)((function(e){return function(e){m(e.target.value)}}),[]);Object(n.useEffect)((function(){!u&&m(i)}),[i,u]);var p=Object(n.useCallback)((function(){return function(e){u&&(c(u),t.pathname!==T.SEARCH&&a.push(T.SEARCH))}}),[u,c,t.pathname,a]);return r.a.createElement("div",{className:o.root},r.a.createElement(x.a,{fullWidth:!0,className:o.margin,variant:"outlined"},r.a.createElement(w.a,{htmlFor:"search-city"},"Search "),r.a.createElement(C.a,{labelWidth:60,id:"search-city",onChange:d("search"),endAdornment:r.a.createElement(S.a,{type:"button","aria-label":"search",onClick:p(),className:o.iconButton},r.a.createElement(v.a,null))})))}));R.defaultProps={inputData:""};var N=R,_=a(30),P=a(148),H=a(144),W=a(69),B=a.n(W),I=a(140),M=a(139),z=a(50),L=a.n(z),G=Object(D.a)((function(e){return Object(A.a)({root:{position:"relative"},cardContainer:{position:"relative"},btn:{position:"absolute",top:15,right:12,display:"block",zIndex:2},topCard:{display:"flex",flexDirection:"column"},title:{padding:0,display:"flex",fontSize:"1.8rem",flexDirection:"row"},bottomCard:{display:"flex",justifyContent:"space-between"},gridList:{width:"100%",height:"100%",justifyContent:"center"},footerBtn:{marginTop:20,borderRadius:0,padding:"20px 0"},temperature:{fontSize:"4rem"},temperatureSymbol:{fontSize:"1.7rem"}})})),V=Object(n.memo)((function(e){var t=G(),a=e.isListener,c=e.id,i=e.name,o=e.country,l=e.windSpeed,s=e.humidity,m=e.pressure,d=e.temp,p=e.description,f=Object(n.useState)({isVisible:!1,id:null}),b=Object(j.a)(f,2),O=b[0],y=b[1],h=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||!O.isVisible?y({isVisible:!0,id:e}):O.isVisible&&y({isVisible:!1,id:null})}),[O]);return r.a.createElement(u.a,{item:!0,xs:6,className:t.root,onMouseLeave:function(){return h()},onMouseEnter:function(){return h(c)}},r.a.createElement(H.a,{direction:"down",in:O.id===c},r.a.createElement("div",{className:t.btn},r.a.createElement(S.a,{color:"inherit","aria-label":"refresh {name} card",onClick:function(){return a("refresh",c)}},r.a.createElement(B.a,{fontSize:"large"})),r.a.createElement(S.a,{color:"inherit","aria-label":"delete {name} card",onClick:function(){return a("delete",c)}},r.a.createElement(L.a,{fontSize:"large"})))),r.a.createElement(_.b,{style:{textDecoration:"none"},to:"".concat(T.SEARCH,"/").concat(i)},r.a.createElement(P.a,{className:t.cardContainer,variant:"outlined"},r.a.createElement(M.a,{className:t.topCard},r.a.createElement(M.a,{className:t.title},r.a.createElement(I.a,{className:t.title,component:"h2",color:"textSecondary"},i),r.a.createElement(I.a,{className:t.title,component:"h2",color:"textSecondary"},", ",o)),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},p)),r.a.createElement(M.a,{className:t.bottomCard},r.a.createElement(M.a,{className:t.title},r.a.createElement(I.a,{className:t.temperature},d),r.a.createElement("sup",{className:t.temperatureSymbol},"\xb0C")),r.a.createElement(M.a,{className:t.topCard},r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Wind: ",l," m/s"),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Humidity: ",s," %"),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Pressure: ",m," hpa"))))))}));function Y(e){localStorage.removeItem("dataWeather"),localStorage.setItem("dataWeather",JSON.stringify([e]))}function U(){var e=localStorage.getItem("dataWeather");if(e)return JSON.parse(e)[0]}var J=Object(n.memo)((function(e){var t=Object(s.c)(y).data,a=Object(s.b)(),c=Object(n.useCallback)((function(){return a({type:m.GET_DATA})}),[a]),i=Object(n.useCallback)((function(e){return a({type:m.DATA,data:e})}),[a]),o=Object(n.useCallback)((function(e){return a({type:m.GET_DATA_CITY,id:e})}),[a]),d=Object(n.useCallback)((function(e){return a({type:E.SEARCH_CITY,str:e})}),[a]);Object(n.useEffect)((function(){var e=U();t||(e?i(e):c())}),[t,c,i]);var p=Object(n.useCallback)((function(e,a){if("delete"===e){var n=t;Y(n=l.a.filter(n,(function(e){return a!==e.id}))),i(n)}else"refresh"===e&&o(a)}),[t,i,o]),f=Object(n.useMemo)((function(){return t&&l.a.map(t,(function(e){return{id:e.id,name:e.name,country:e.sys.country,windSpeed:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure,temp:Math.round(e.main.temp),description:e.weather[0].description}}))}),[t]);return r.a.createElement("div",null,r.a.createElement(N,Object.assign({},e,{searchCity:d})),r.a.createElement(u.a,{container:!0,spacing:3},l.a.map(f,(function(e){return r.a.createElement(V,Object.assign({isListener:p,key:e.id},e))}))))})),F=a(70),X=a.n(F),q=a(141),$=Object(D.a)((function(e){return Object(A.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"}})}));function K(){var e=$(),t=Object(n.useState)(0),a=Object(j.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(q.a,{size:"20vw",variant:"determinate",value:c,color:"secondary"}))}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee={currentCity:null,inputData:"",loading:!1},te=function(e){return e.search},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=Object(p.a)(t,["type"]);switch(a){case m.DATA:case m.CLEAR:return Z({},e,{},n);default:return e}};function ne(e){return~~(+e/1e3)}function re(e){return new Date(1e3*e)}var ce=Object(D.a)((function(e){return Object(A.a)({card:{position:"relative"},cardContainer:{flexGrow:0,maxWidth:"100%",flexBasis:"100%"},btn:{position:"absolute",bottom:15,right:12,display:"block",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.8)"},vertical:{display:"flex",flexDirection:"column"},infoWeather:{fontSize:"1.2rem",display:"flex",flexDirection:"column",alignSelf:"flex-end"},padding0:{padding:0},title:{padding:0,display:"flex",fontSize:"1.8rem",flexDirection:"row"},topCard:{padding:0,display:"flex",flexDirection:"row",justifyContent:"space-between"},bottomCard:{display:"flex",justifyContent:"space-between"},gridList:{width:"100%",height:"100%",justifyContent:"center"},footerBtn:{marginTop:20,borderRadius:0,padding:"20px 0"},temperature:{fontSize:"6rem",padding:"0 10%"},temperatureSymbol:{fontSize:"1.7rem"}})})),ie=Object(n.memo)((function(e){var t=ce(),a=e.match,c=Object(s.c)(y).data,i=Object(s.c)(te),o=i.currentCity,u=i.inputData,d=Object(n.useState)(!1),p=Object(j.a)(d,2),f=p[0],b=p[1],O=Object(n.useState)({isVisible:!1,id:null}),h=Object(j.a)(O,2),g=h[0],v=h[1],w=Object(s.b)(),x=Object(n.useCallback)((function(){return w({type:m.GET_DATA})}),[w]),C=Object(n.useCallback)((function(e){return w({type:m.DATA,data:e})}),[w]),D=Object(n.useCallback)((function(e){return w({type:E.SEARCH_CITY,str:e})}),[w]),A=Object(n.useCallback)((function(e){return w({type:m.GET_DATA_CITY,id:e})}),[w]);Object(n.useEffect)((function(){if(!c){var e=U();e?C(e):x()}o&&b(l.a.some(c,(function(e){return o.city.id===e.id}))),u||D(a.params.city)}),[o,c,x,u,a.params.city,D,C]);var T=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||!g.isVisible?v({isVisible:!0,id:e}):g.isVisible&&v({isVisible:!1,id:null})}),[g]),k=Object(n.useCallback)((function(e,t){if("delete"===e){var a=c;Y(a=l.a.filter(a,(function(e){return t!==e.id}))),C(a)}"add"===e&&(b(!f),A(t))}),[c,A,f,C]),R={weekday:"long",hour:"2-digit",minute:"2-digit"},_={hour:"2-digit",minute:"2-digit"},W=Object(n.useMemo)((function(){return o&&{id:o.city.id,name:o.city.name,country:o.city.country,windSpeed:o.list[0].wind.speed,humidity:o.list[0].main.humidity,pressure:o.list[0].main.pressure,weather:o.list[0].weather[0].main,temp:Math.round(o.list[0].main.temp),tempMax:Math.round(o.list[0].main.temp_max),tempMin:Math.round(o.list[0].main.temp_min),description:o.list[0].weather[0].description,timeSunset:re(o.city.sunset).toLocaleDateString("en-US",_),timeSunrise:re(o.city.sunrise).toLocaleDateString("en-US",_),timeWeatherReport:re(o.list[0].dt).toLocaleDateString("en-US",R),weatherMap:l.a.map(o.list,(function(e){return{id:e.dt,weather:e.weather[0].main,temp:Math.round(e.main.temp),timeWeatherReport:re(e.dt).toLocaleDateString("en-US",_)}}))}}),[o,R,_]);return W?r.a.createElement("div",{className:t.root},r.a.createElement(N,Object.assign({},e,{inputData:u,searchCity:D})),r.a.createElement(P.a,{variant:"outlined",className:t.card,onMouseLeave:function(){return T()},onMouseEnter:function(){return T(W.id)}},r.a.createElement(H.a,{direction:"up",in:g.id===W.id},r.a.createElement("div",{className:t.btn},f?r.a.createElement(S.a,{color:"inherit","aria-label":"delete {name} card",onClick:function(){return k("delete",W.id)}},r.a.createElement(L.a,{style:{color:"#fff"},fontSize:"large"})):r.a.createElement(S.a,{color:"inherit","aria-label":"add {name} card",onClick:function(){return k("add",W.id)}},r.a.createElement(X.a,{style:{color:"#fff"},fontSize:"large"})))),r.a.createElement(M.a,{className:t.topCard},r.a.createElement(M.a,{className:t.vertical},r.a.createElement(M.a,{className:t.title},r.a.createElement(I.a,{className:t.title,component:"h2"},W.name),r.a.createElement(I.a,{className:t.title,component:"h2"},", ",W.country)),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},W.timeWeatherReport),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},W.description)),r.a.createElement(M.a,{className:t.vertical},r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"time sunrise: ",W.timeSunrise),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"time sunset: ",W.timeSunset))),r.a.createElement(M.a,{className:t.bottomCard},r.a.createElement(M.a,{className:t.vertical+t.padding0},r.a.createElement(M.a,{className:t.title},r.a.createElement(I.a,{className:t.temperature},W.temp),r.a.createElement("sup",{className:t.temperatureSymbol},"\xb0C")),r.a.createElement("br",null),r.a.createElement(M.a,{style:{padding:0},className:t.vertical},r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"min. temperature: ",W.tempMin,r.a.createElement("sup",null,"\xb0C")),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"min. temperature: ",W.tempMax,r.a.createElement("sup",null,"\xb0C")))),r.a.createElement(M.a,{className:t.infoWeather},r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Wind: ",W.windSpeed," m/s"),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Humidity: ",W.humidity," %"),r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Pressure: ",W.pressure," hpa"))))):r.a.createElement(K,null)})),oe=Object(D.a)((function(e){return Object(A.a)({header:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"10vh",marginBottom:30,backgroundColor:"black",padding:20},title:{color:"#fff",fontSize:"3rem"}})})),le=Object(n.memo)((function(){var e=oe();return r.a.createElement("header",{className:e.header},r.a.createElement(_.b,{style:{textDecoration:"none"},to:T.HOME},r.a.createElement(I.a,{className:e.title,component:"h1"}," Weather")))}));var se=a(16),ue=a.n(se),me=a(73),de=a(26),pe=a(14),fe=a.n(pe),be=a(9),Oe=a(71),ye="&appid=1e8e30d723f7ffb3faa125fbfafb5991",he=a.n(Oe).a.create({baseURL:"http://api.openweathermap.org/data/2.5"}),Ee=function(){return he({method:"get",url:"/find?lat=50&lon=36&cnt=30".concat(ye,"&units=metric")}).then((function(e){return e.data.list}))},je=function(e){return he({method:"get",url:"/weather?id=".concat(e).concat(ye,"&units=metric")}).then((function(e){return e.data}))},ge=function(e){return he({method:"get",url:"forecast?q=".concat(e).concat(ye,"&units=metric")}).then((function(e){return e.data}))};function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=fe.a.mark(De),xe=fe.a.mark(Ae),Ce=fe.a.mark(Te);function De(e){var t;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.type,Object(p.a)(e,["type"]),a.next=3,Object(be.d)({type:m.DATA,loading:!0});case 3:return a.prev=3,a.next=6,Object(be.b)(Ee);case 6:return Y(t=a.sent),a.next=10,Object(be.d)({type:m.DATA,data:t});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(3),a.next=16,Object(be.d)({type:m.SHOW_ERROR});case 16:return a.next=18,Object(be.d)({type:m.DATA,loading:!1});case 18:case"end":return a.stop()}}),Se,null,[[3,12]])}function Ae(e){var t,a,n,r;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.type,t=Object(p.a)(e,["type"]),a=t.id,c.next=4,Object(be.d)({type:m.DATA,loading:!0});case 4:return c.next=6,Object(be.e)((function(e){return e.home.data}));case 6:return n=c.sent,c.prev=7,c.next=10,Object(be.b)(je,a);case 10:return r=c.sent,Y(n=l.a.map(n,(function(e){return a===e.id?we({},r):we({},e)}))),c.next=15,Object(be.d)({type:m.DATA,data:n});case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(7),c.next=21,Object(be.d)({type:m.SHOW_ERROR});case 21:return c.next=23,Object(be.d)({type:m.DATA,loading:!1});case 23:case"end":return c.stop()}}),xe,null,[[7,17]])}function Te(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.f)(m.GET_DATA,De);case 2:return e.next=4,Object(be.f)(m.GET_DATA_CITY,Ae);case 4:case"end":return e.stop()}}),Ce)}var ke=a(72),Re=fe.a.mark(He),Ne=fe.a.mark(We);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function He(e){var t,a,n,r,c,i,o,s,u,m;return fe.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return e.type,t=Object(p.a)(e,["type"]),a=t.str,n=(new Date).setHours(0,0,0,0),n=new Date(n),r=n.setDate(n.getDate()+1),c=n.setDate(n.getDate()+2),i=ne(new Date(r)),o=ne(new Date(c)),d.next=10,Object(be.d)({type:E.DATA,loading:!0,inputData:a});case 10:return d.prev=10,d.next=13,Object(be.b)(ge,a);case 13:return s=d.sent,console.log(s),u=s.list,(m=l.a.filter(u,(function(e){return i>=e.dt}))).length<=2&&l.a.filter(u,(function(e){return o>=e.dt})),d.next=20,Object(be.d)({type:E.DATA,currentCity:Pe({},s,{list:Object(ke.a)(m)})});case 20:d.next=26;break;case 22:return d.prev=22,d.t0=d.catch(10),d.next=26,Object(be.d)({type:E.SHOW_ERROR});case 26:return d.next=28,Object(be.d)({type:E.DATA,loading:!1});case 28:case"end":return d.stop()}}),Re,null,[[10,22]])}function We(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.g)(E.SEARCH_CITY,He);case 2:case"end":return e.stop()}}),Ne)}var Be=fe.a.mark(Ie);function Ie(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.a)([Object(be.c)(Te),Object(be.c)(We)]);case 2:case"end":return e.stop()}}),Be)}var Me=Ie,ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,Le=Object(de.c)({home:h,search:ae}),Ge=Object(me.a)(),Ve=Object(de.e)(Le,ze(Object(de.a)(Ge)));Ge.run(Me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));ue.a.render(r.a.createElement(_.a,{basename:"/weather"},r.a.createElement(s.a,{store:Ve},r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null),r.a.createElement(i.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:T.HOME,component:J}),r.a.createElement(c.b,{path:"".concat(T.SEARCH,"/:city?"),component:ie}),r.a.createElement(c.a,{exact:!0,from:"/",to:T.HOME}))))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a(111)},81:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.c13f2961.chunk.js.map